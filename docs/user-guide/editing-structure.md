# メニュー構造の編集

このページでは、複雑なメニュー構造を作成・編集する方法を説明します。

## 階層構造の理解

Radify Menu Editorでは、以下の階層構造でメニューを構成します:

```
メインメニュー
├── リング1
│   ├── アイテム1
│   ├── アイテム2
│   └── アイテム3
├── リング2
│   ├── アイテム4
│   └── アイテム5（→ サブメニューへ）
└── リング3
    └── アイテム6

サブメニューA
├── リング1
│   ├── アイテム7
│   └── アイテム8
└── リング2
    └── アイテム9
```

## 多重リング構造

### 複数のリングを追加

メニューに深みを持たせるために、複数のリングを追加できます。

1. 「新規リング追加」を複数回クリック
2. 各リングの半径を調整して配置を調整

!!! tip "リング番号の自動割り当て"
    リングは自動的に番号が割り当てられ、内側から1, 2, 3...と続きます。

### リングの半径調整

右パネルで「Ring Spacing」を調整することで、リング間の距離を設定できます。

```
内側のリング: 半径 100px
中間のリング: 半径 180px
外側のリング: 半径 260px
```

## サブメニューの作成

### サブメニューの追加

1. サブメニューボタンのあるアイテムを選択
2. 「サブメニュー追加」ボタンをクリック
3. サブメニュー名を入力
4. ツリービューに新しいサブメニューが追加される

### サブメニューへのリンク設定

1. メインメニューのアイテムを選択
2. 右パネルの「サブメニュー」ドロップダウンで移動先を選択
3. アクションが自動的に設定される

!!! info "サブメニューのアクション"
    サブメニューへのリンクは、専用のアクションとして自動生成されます。

### サブメニューの編集

1. ツリービューでサブメニューを選択
2. 通常のメニューと同じようにリング・アイテムを追加・編集

## アイテムの高度な配置

### 位置の固定

特定のアイテムを特定の位置に配置したい場合:

1. アイテムの順序を並び替え
2. プレビューで位置を確認
3. 必要に応じて微調整

### 空のスロット

リング内に空のスロットを作りたい場合:

1. ダミーアイテムを追加
2. ラベルを空にする
3. アクションを設定しない（または何もしないアクションを設定）

!!! warning "注意"
    空のスロットでも内部的にはアイテムとして存在します。

## 条件分岐とグループ化

### アイテムのグループ化

関連するアイテムをまとめて配置する方法:

1. 同じリング内に配置
2. 連続した位置に並べる
3. 同じテーマのアイコンを使用

### 動的なメニュー表示

AutoHotkeyコードで条件分岐を使用することで、状況に応じてメニューを変更できます:

```ahk
if WinActive("ahk_exe notepad.exe")
    ; メモ帳がアクティブな場合のメニュー
else
    ; それ以外の場合のメニュー
```

## テンプレートの活用

### メニューテンプレート

よく使うメニュー構造をテンプレートとして保存できます:

1. メニューを作成
2. 「お気に入り」機能で保存
3. 他のプロジェクトでインポート

!!! tip "プロジェクトの再利用"
    設定ファイル（menu_config.json）をコピーすることで、メニュー構造を丸ごと再利用できます。

## メニューのエクスポート/インポート

### エクスポート

1. 「ファイル」→「AHKスクリプト出力」
2. 出力先フォルダを選択
3. 必要なファイルがすべてコピーされる

### インポート

1. 「ファイル」→「設定を開く」
2. 既存の `menu_config.json` を選択
3. メニュー構造が読み込まれる

## ベストプラクティス

### メニューの深さ

- メインメニューに最もよく使う機能を配置
- サブメニューは2階層程度に抑える
- 深すぎる階層は避ける

### リングの数

- 1つのメニューに3〜4リングが適度
- 多すぎると視認性が下がる

### アイテムの数

- 1つのリングに6〜8アイテム程度が理想
- 12個を超えると選択しづらくなる

### 命名規則

- わかりやすいラベル名を使用
- サブメニュー名は内容を反映した名前に
- 一貫性のある命名で管理しやすく

## トラブルシューティング

### メニューが正しく表示されない

- プレビューを更新（F5）
- 設定を保存してエディタを再起動

### アイテムが重なる

- リングの半径を調整
- アイテム数を減らす
- アイテムサイズを小さくする

### サブメニューに移動できない

- サブメニューへのリンクが正しく設定されているか確認
- サブメニュー名が正しいか確認

## 次のステップ

メニュー構造の理解が深まったら、次は各アイテムの動作を設定しましょう:

- [アクションの設定](actions.md)
- [アイコンとビジュアル](icons-visuals.md)
